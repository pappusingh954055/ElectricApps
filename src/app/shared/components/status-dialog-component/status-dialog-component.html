<div class="dialog-container" [class.success-border]="data.isSuccess" [class.error-border]="!data.isSuccess && data.status !== 'warning'" [class.warning-border]="data.status === 'warning'">
  <div class="dialog-header">
    <mat-icon [class.text-success]="data.isSuccess" [class.text-error]="!data.isSuccess && data.status !== 'warning'" [class.text-warning]="data.status === 'warning'">
      {{ data.isSuccess ? 'check_circle' : (data.status === 'warning' ? 'warning' : 'report') }}
    </mat-icon>
    <h2 mat-dialog-title>{{ data.title || (data.isSuccess ? 'Success' : 'Attention Required') }}</h2>
  </div>

  <mat-dialog-content>
    <p class="message-text" style="white-space: pre-line;">{{ data.message }}</p>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <ng-container *ngIf="!data.actions">
      <button mat-button *ngIf="data.showCancel" [mat-dialog-close]="false">
        {{ data.cancelText || 'No' }}
      </button>
      <button mat-flat-button [color]="data.isSuccess ? 'primary' : (data.status === 'warning' ? 'accent' : 'warn')" [mat-dialog-close]="true">
        {{ data.confirmText || (data.showCancel ? 'Yes' : 'Ok') }}
      </button>
    </ng-container>

    <ng-container *ngIf="data.actions">
      <ng-container *ngFor="let action of data.actions">
        <button *ngIf="action.role === 'cancel' || action.role === 'close' || action.role === 'ok'" 
                mat-button 
                [mat-dialog-close]="action.role">
          {{ action.label }}
        </button>
        <button *ngIf="action.role !== 'cancel' && action.role !== 'close' && action.role !== 'ok'" 
                mat-flat-button 
                [color]="action.color || (data.isSuccess ? 'primary' : 'warn')"
                [mat-dialog-close]="action.role">
          {{ action.label }}
        </button>
      </ng-container>
    </ng-container>
  </mat-dialog-actions>
</div>