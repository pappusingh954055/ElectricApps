.enterprise-grid-container {
  width: 100%;
  border-radius: 8px;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  background: #fff;
  border: 1px solid #e5e7eb;
  overflow: hidden;
  display: flex;
  flex-direction: column;
  position: relative;

  .loading-shade {
    position: absolute;
    top: 0; left: 0; bottom: 0; right: 0;
    background: rgba(255, 255, 255, 0.7);
    z-index: 2000;
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    backdrop-filter: blur(2px);
  }

  .grid-toolbar {
    display: flex; justify-content: space-between; align-items: center;
    padding: 6px 16px; 
    background: #f9fafb; border-bottom: 1px solid #e5e7eb;
    @media (max-width: 600px) { flex-direction: column; gap: 10px; }
  }

  .responsive-table-wrapper {
    overflow: auto; width: 100%; max-height: 600px;
    table {
      width: 100%; border-collapse: collapse; min-width: 900px;
      table-layout: fixed; // Critical for smooth resizing
    }
  }

  .mat-mdc-header-row {
    top: 0; position: sticky; z-index: 100; background: #f9fafb;
    height: 44px; // Compact header
  }

  .header-main-container {
    display: flex; align-items: center; width: 100%; position: relative;
    padding-right: 4px;

    .header-label-group {
      display: flex; align-items: center; flex: 1; cursor: pointer; user-select: none;
      overflow: hidden;
      .header-label {
        font-weight: 600; color: #374151; white-space: nowrap; font-size: 13px;
        overflow: hidden; text-overflow: ellipsis;
      }
      .sort-indicator {
        font-size: 14px; width: 14px; height: 14px; margin-left: 4px; color: #3b82f6;
      }
    }

    .header-right-side {
      display: flex; align-items: center;
      .resizer-bar {
        position: absolute;
        right: -8px; 
        top: 0; bottom: 0; width: 5px;
        cursor: col-resize; z-index: 101;
        background: transparent;
        transition: background 0.2s;
        &:hover, &:active { background: rgba(59, 130, 246, 0.5); }
      }
    }
  }

  // --- CHILD TABLE STYLING ---
  .child-table-scroll {
    width: 100%; overflow-x: auto; padding: 0 5px 10px 5px;
    
    .inner-table {
      width: 100%; border: 1px solid #e5e7eb; table-layout: fixed;
      background: #fff; border-radius: 4px;

      th.child-th {
        background: #f3f4f6; 
        padding: 4px 8px; // Slimmer header
        position: relative;
        border-bottom: 2px solid #e2e8f0;
        overflow: visible !important;
      }

      .child-row {
        background: #fff;
        transition: background-color 0.15s ease-in-out;
        
        // --- HOVER EFFECT FIXED ---
        &:hover {
          background-color: #f1f5f9 !important;
          cursor: default;
        }

        td {
          padding: 8px 12px; border-bottom: 1px solid #f1f5f9;
          white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
          color: #475569; font-size: 12.5px;
        }
      }
    }
  }

  .detail-row {
    display: none !important;
    &.expanded-row-visible { display: table-row !important; }
  }

  .detail-panel {
    background: #fbfcfe;
    &.is-expanded { border-left: 4px solid #3b82f6; padding: 12px; }
  }
}

// Menu Styling
.menu-header {
  padding: 10px 16px; font-weight: 600; border-bottom: 1px solid #eee; font-size: 13px;
}
// --- MOBILE ADJUSTMENTS ---
@media (max-width: 768px) {
  .grid-toolbar { flex-direction: column; gap: 12px; padding: 12px; }
  .detail-panel.is-expanded { padding: 8px; }
}