<mat-card>
  <div style="display: flex; justify-content: space-between; align-items: center; padding-right: 16px;">
    <mat-card-title>{{ categoryId ? 'Edit' : 'Add' }} Category</mat-card-title>
    
    <div style="display: flex; align-items: center; gap: 12px;">
      <span *ngIf="selectedFileName" style="font-size: 0.9em; color: #666;">
        {{ selectedFileName }}
      </span>
      
      <button mat-stroked-button color="primary" (click)="fileInput.click()">
        <mat-icon>cloud_upload</mat-icon> Upload Excel
      </button>

      <input #fileInput type="file" (change)="onFileSelected($event)" style="display: none;" accept=".xlsx, .xls">

      <button mat-raised-button color="accent" *ngIf="selectedFileName" (click)="uploadExcel()">
        <mat-icon>save</mat-icon> Save
      </button>

      <button mat-icon-button color="warn" *ngIf="selectedFileName" (click)="resetFile(fileInput)" matTooltip="Reset File">
        <mat-icon>close</mat-icon>
      </button>
    </div>
  </div>

  <mat-card-content *ngIf="!selectedFileName">
    <form [formGroup]="categoryForm" class="form-grid">

       <mat-form-field appearance="outline">
        <mat-label>Category Code</mat-label>
        <input matInput formControlName="categoryCode">
      </mat-form-field>

      <mat-form-field appearance="outline">
        <mat-label>Category Name *</mat-label>
        <input matInput formControlName="categoryName">
      </mat-form-field>

     

      <mat-form-field appearance="outline">
        <mat-label>Default GST %</mat-label>
        <input matInput type="number" formControlName="defaultGst">
      </mat-form-field>

      <mat-form-field appearance="outline" class="full-width">
        <mat-label>Description</mat-label>
        <textarea matInput rows="3" formControlName="description"></textarea>
      </mat-form-field>

      <mat-slide-toggle formControlName="isActive">
        Active
      </mat-slide-toggle>

    </form>
  </mat-card-content>

  <!-- âœ… FOOTER -->
  <form-footer *ngIf="!selectedFileName" [loading]="loading" [saveLabel]="categoryId ? 'Update' : 'Save'" (save)="onSave()" (cancel)="onCancel()">
  </form-footer>

</mat-card>