<div class="modal-container" [class.disabled-content]="loading">
  <div class="modal-header">
    <h2 class="title-text">{{ isEdit ? 'Edit Supplier' : 'Add New Supplier' }}</h2>
    
    <div class="header-actions">
      <button mat-raised-button class="save-btn" (click)="onSave()" [disabled]="loading">
        <mat-spinner diameter="18" *ngIf="loading" class="me-2 d-inline-block"></mat-spinner>
        <mat-icon *ngIf="!loading">save</mat-icon>
        {{ isEdit ? 'UPDATE' : 'SAVE' }}
      </button>

      <button mat-raised-button class="cancel-btn" (click)="onCancel()" type="button">
        <mat-icon>close</mat-icon> 
        CANCEL
      </button>
    </div>
  </div>

  <mat-dialog-content class="modal-body">
    <form [formGroup]="supplierForm">
      <div class="row pt-1">
        <div class="col-12 mb-2">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Supplier Name</mat-label>
            <mat-icon matPrefix>business</mat-icon>
            <input matInput formControlName="name" placeholder="Enter company name">
          </mat-form-field>
        </div>

        <div class="col-md-6 mb-2">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Phone Number</mat-label>
            <mat-icon matPrefix>phone</mat-icon>
            <input matInput formControlName="phone" placeholder="9876543210">
          </mat-form-field>
        </div>

        <div class="col-md-6 mb-2">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>GST Number</mat-label>
            <mat-icon matPrefix>receipt_long</mat-icon>
            <input matInput formControlName="gstIn" placeholder="Optional">
          </mat-form-field>
        </div>

        <div class="col-md-6 mb-2">
          <mat-form-field appearance="outline" class="w-100">
            <mat-label>Default Price List</mat-label>
            <mat-icon matPrefix>list_alt</mat-icon>
            <mat-select formControlName="defaultpricelistId">
              <mat-option *ngFor="let list of priceLists" [value]="list.id">
                {{list.name}}
              </mat-option>
            </mat-select>
          </mat-form-field>
        </div>

        <div class="col-12">
          <mat-form-field appearance="outline">
            <mat-label>Address</mat-label>
            <mat-icon matPrefix>location_on</mat-icon>
            <input matInput formControlName="address" placeholder="Full address">
          </mat-form-field>
        </div>

        <div class="col-12 mt-2">
          <mat-slide-toggle formControlName="isActive">
            Active
          </mat-slide-toggle>
        </div>

      </div>
    </form>
  </mat-dialog-content>
</div>
