<div class="stats-grid" *ngIf="!isDashboardLoading">
  <!-- Content inside stats-grid -->
  <mat-card class="stat-card total">
      <mat-card-content>
          <div class="stat-icon"><mat-icon>shopping_cart</mat-icon></div>
          <div class="stat-info">
              <span class="label">Total Purchase (Approved)</span>
              <span class="value">â‚¹{{totalPurchaseAmount | number:'1.2-2'}}</span>
          </div>
      </mat-card-content>
  </mat-card>

  <mat-card class="stat-card overdue">
      <mat-card-content>
          <div class="stat-icon"><mat-icon>inventory_2</mat-icon></div>
          <div class="stat-info">
              <span class="label">Awaiting Receiving</span>
              <span class="value">{{pendingReceiveCount}}</span>
          </div>
          <div class="stat-badge" *ngIf="pendingReceiveCount > 0">Pending GRN</div>
      </mat-card-content>
  </mat-card>

  <mat-card class="stat-card active">
      <mat-card-content>
          <div class="stat-icon"><mat-icon>rate_review</mat-icon></div>
          <div class="stat-info">
              <span class="label">Awaiting Approval</span>
              <span class="value">{{pendingApprovalCount}}</span>
          </div>
      </mat-card-content>
  </mat-card>
</div>

<div class="list-container" [class.disabled-content]="isDashboardLoading">
  <div class="page-container">
    
    <div class="loading-shade" *ngIf="isLoading && !isDashboardLoading">
      <mat-spinner strokeWidth="3" diameter="50"></mat-spinner>
    </div>

 <app-enterprise-hierarchical-grid 
  [addNewLabel]="'New PO'" 
  [addNewRoute]="'/app/inventory/polist/add'"
  [columns]="poColumns" 
  [childColumns]="itemColumns" 
  [dataSource]="dataSource" 
  [totalRecords]="totalRecords"
  [pageSize]="pageSize" 
  [isLoading]="isLoading" 
  [childDataField]="'items'"
  [userRole]="userRole"                    
  (onGridStateChange)="onGridStateChange($event)"

  (deleteRecord)="onDeleteSingleParentRecord($event)"
  (bulkDeleteChildItems)="onBulkDeleteChildItems($event)"
  (selectionChanged)="onGridSelectionChange($event)"
  (bulkDeleteParentOrders)="onBulkDeleteParentOrders($event)"
  (bulkApproveOrders)="onBulkSentForDraftApproval($event)"
  (bulkDraftApproved)="onBulkDraftApproved($event)"
  (bulkPORejected)="onBulkPOReject($event)"
  (bulkCreateGrn)="onBulkCreateGrn($event)"
  (actionClicked)="handleGridAction($event)" >
</app-enterprise-hierarchical-grid>
  </div>
</div>