// Popup Container
.popup-container {
    display: flex;
    flex-direction: column;
    height: 100vh;
    max-height: 90vh;
    background: #fff;
    overflow: hidden;
    font-family: 'Roboto', sans-serif;
}

// Header
.header {
    display: flex;
    align-items: center;
    padding: 12px 20px;
    background: #fff;
    border-bottom: 1px solid #e0e0e0;
    justify-content: space-between;
    flex-shrink: 0;

    .title-group {
        display: flex;
        align-items: center;
        gap: 12px;
        
        h2 {
            margin: 0;
            font-size: 1.15rem;
            font-weight: 500;
            color: #202124;
        }
    }

    button.save-btn {
        min-width: 100px;
        font-weight: 500;
        letter-spacing: 0.5px;
    }
}

// Table Container
.content-area {
    flex: 1;
    overflow: auto;
    background: white;
    padding: 0; // Remove padding, let table touch edges
    display: flex;
    flex-direction: column;
}

// Data Table Style
.data-table {
    width: 100%;
    border-collapse: collapse;
    min-width: 1000px; // Reduced min-width to fit better
    
    thead {
        position: sticky;
        top: 0;
        z-index: 10;
        background: #f1f3f4;
        
        th {
            text-align: left;
            padding: 0 8px; // Reduced padding
            height: 40px; // Reduced height
            font-weight: 600;
            color: #5f6368;
            font-size: 0.8rem; // Smaller font
            border-bottom: 1px solid #e0e0e0;
            border-right: 1px solid #e0e0e0;
            white-space: nowrap;
            
            &:last-child {
                border-right: none;
            }

            // Specific Header alignment
            &.right { text-align: right; }
            &.center { text-align: center; }
        }
    }

    tbody {
        tr {
            &:hover {
                background-color: #f8f9fa;
            }

            td {
                padding: 2px 4px; // Very compact padding
                border-bottom: 1px solid #e0e0e0;
                border-right: 1px solid #f0f0f0;
                vertical-align: middle; // Center align vertically
                height: 40px;
                
                &:last-child {
                    border-right: none;
                }

                &.center { 
                    text-align: center; 
                }
                
                &.bg-readonly { 
                    background-color: #fafafa; 
                    font-size: 0.85rem;
                }

                &.cell-input {
                    padding: 0 4px;
                }
            }
        }
    }
}

// Ultra Compact Mat Form Field for Table Cells
::ng-deep .table-input-field {
    width: 100%;
    font-size: 12.5px; // Smaller font
    
    .mat-mdc-text-field-wrapper {
        padding: 0 6px !important;
        background-color: transparent !important;
        height: 32px !important; // Ultra compact height
    }
    
    .mat-mdc-form-field-infix {
        padding-top: 4px !important;
        padding-bottom: 4px !important;
        min-height: 32px !important;
        border-top: none;
        width: auto !important;
    }
    
    .mat-mdc-form-field-subscript-wrapper {
        display: none;
    }
    
    &.mat-form-field-invalid {
        .mat-mdc-text-field-wrapper {
            background-color: #ffebee !important;
        }
    }
    
    input {
        height: 100%; 
        padding: 0;
    }
    
    // Datepicker alignment fix
    .mat-datepicker-toggle {
        button {
            height: 32px !important;
            width: 32px !important;
            line-height: 32px !important;
            margin-bottom: 12px; // Adjusted to move icon up further
        }
    }

    textarea {
        resize: none;
        height: 100%;
        padding: 6px 0 0 0; // Adjust padding for textarea text alignment
        line-height: normal;
    }
}

// Footer
.footer-actions {
    padding: 12px 20px;
    border-top: 1px solid #e0e0e0;
    background: #fff;
    display: flex;
    justify-content: flex-start;
    flex-shrink: 0;
    z-index: 20;

    button {
        border-style: dashed;
        border-width: 1.5px;
        &:hover { border-style: solid; background: #e3f2fd; }
    }
}

// Column Widths (Adjusted for better fit)
.col-check { width: 36px; min-width: 36px; }
.col-idx { width: 40px; min-width: 40px; }
.col-cust { width: 220px; min-width: 200px; } 
.col-bal { width: 100px; min-width: 90px; }
.col-amt { width: 110px; min-width: 100px; }
.col-mode { width: 110px; min-width: 100px; }
.col-ref { width: 140px; min-width: 130px; } 
.col-date { width: 130px; min-width: 120px; }
.col-rem { width: auto; } // Flexible remainder
.col-act { width: 50px; min-width: 50px; }
