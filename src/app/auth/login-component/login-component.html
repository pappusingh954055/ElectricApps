<div class="login-wrapper">
  <!-- <mat-progress-bar mode="indeterminate" *ngIf="loading"></mat-progress-bar> -->

  <mat-card class="login-card">
    <div class="login-header">
      <h2>Welcome Back</h2>
      <p>Enter your credentials to access the portal</p>
    </div>

    <div class="error-banner" *ngIf="errorMessage">
      {{ errorMessage }}
    </div>

    <mat-card-content>
      <form [formGroup]="loginForm" (ngSubmit)="Login()">
        <mat-form-field appearance="outline" subscriptSizing="dynamic">
          <mat-label>Email</mat-label>
          <input matInput formControlName="Email">
        </mat-form-field>

        <mat-form-field appearance="outline" subscriptSizing="dynamic">
          <mat-label>Password</mat-label>
          <input matInput type="password" formControlName="Password">
        </mat-form-field>

        <div class="form-options">
          <mat-checkbox formControlName="rememberMe" color="primary">Remember me</mat-checkbox>
          <a class="forgot-link">Forgot password?</a>
        </div>

        <button mat-flat-button color="primary" class="login-btn" [disabled]="loading || loginForm.invalid">

          <span *ngIf="!loading">SIGN IN</span>

          <div class="loader-container" *ngIf="loading">
            <mat-spinner diameter="20" color="accent"></mat-spinner>
            <span>Signing in...</span>
          </div>

        </button>

        <p class="error-text" *ngIf="errorMessage">{{ errorMessage }}</p>
      </form>
    </mat-card-content>
  </mat-card>
</div>